# üèÜ –°–∏—Å—Ç–µ–º–∞ –î–æ—Å—Ç–∏–∂–µ–Ω–∏–π "–ö—Ä–∏–º–∏–Ω–∞–ª—å–Ω—ã–π –ë–ª–µ—Ñ"

## –û–±–∑–æ—Ä

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –¥–ª—è Telegram Mini App —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏, –∑–≤—É–∫–æ–≤—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

## –û—Å–Ω–æ–≤–Ω—ã–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚ú® –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ –≠—Ñ—Ñ–µ–∫—Ç—ã
- **–í—Å–ø–ª—ã–≤–∞—é—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π –ø–æ—è–≤–ª–µ–Ω–∏—è
- **–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º
- **–ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- **–¢–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** —á–µ—Ä–µ–∑ Telegram WebApp API

### üéØ –¢–∏–ø—ã –î–æ—Å—Ç–∏–∂–µ–Ω–∏–π

#### –ë–∞–∑–æ–≤—ã–µ (Common)
- `first_case` - –ü–µ—Ä–≤–æ–µ –¥–µ–ª–æ (1 —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ)
- `rookie` - –ù–æ–≤–∏—á–æ–∫ (5 —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π)

#### –†–µ–¥–∫–∏–µ (Rare)  
- `expert` - –≠–∫—Å–ø–µ—Ä—Ç (25 —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π)
- `sharp_eye` - –ú–µ—Ç–∫–∏–π –≥–ª–∞–∑ (80% —Ç–æ—á–Ω–æ—Å—Ç—å, 10+ –∏–≥—Ä)

#### –≠–ø–∏—á–µ—Å–∫–∏–µ (Epic)
- `serial_detective` - –°–µ—Ä–∏–π–Ω—ã–π –¥–µ—Ç–µ–∫—Ç–∏–≤ (50 —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π) 
- `perfectionist` - –ü–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏—Å—Ç (5 –∏–≥—Ä —Å 100% —Ç–æ—á–Ω–æ—Å—Ç—å—é)

#### –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–µ (Legendary)
- `maniac` - –ú–∞–Ω—å—è–∫ (100 —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π)
- `speedster` - –°–∫–æ—Ä–æ—Å—Ç–Ω–æ–π –¥–µ—Ç–µ–∫—Ç–∏–≤ (—Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è < 60 —Å–µ–∫)
- `veteran` - –í–µ—Ç–µ—Ä–∞–Ω (6 –º–µ—Å—è—Ü–µ–≤ –∏–≥—Ä—ã)

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ö–æ–¥

### –û—Å–Ω–æ–≤–Ω–æ–µ API

```javascript
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
AchievementSystem.init();

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
AchievementSystem.updateUserStats({
    investigations: 15,
    accuracy: 85,
    totalScore: 2500,
    winStreak: 5
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
AchievementSystem.handleNewAchievements([
    { id: 'first_case', name: '–ü–µ—Ä–≤–æ–µ –¥–µ–ª–æ', description: '...' }
]);

// –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
AchievementSystem.renderEnhancedAchievements(userAchievements);
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ò–≥—Ä–æ–≤–æ–π –ü—Ä–æ—Ü–µ—Å—Å

#### –í crime-app.js:
```javascript
// –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∏–≥—Ä—ã
if (data.data.newAchievements && data.data.newAchievements.length > 0) {
    if (window.AchievementSystem) {
        AchievementSystem.handleNewAchievements(data.data.newAchievements);
    }
}
```

#### –í profile.js:
```javascript
// –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–æ—Ñ–∏–ª—è
if (window.AchievementSystem) {
    AchievementSystem.updateUserStats(this.profileData.stats);
    AchievementSystem.renderEnhancedAchievements(achievements);
}
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –§–∞–π–ª–æ–≤

```
public/
‚îú‚îÄ‚îÄ achievement-system.js      # –û—Å–Ω–æ–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
‚îú‚îÄ‚îÄ achievement-demo.html      # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ index.html                # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ game.html                 # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã  
‚îî‚îÄ‚îÄ profile.html              # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
```

## CSS –°—Ç–∏–ª–∏

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞:
- `--blood-red`, `--crime-scene-yellow` - –æ—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞
- `--chalk-white`, `--body-bag-black` - —Ç–µ–∫—Å—Ç –∏ —Ñ–æ–Ω
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

–û—Ç–∫—Ä–æ–π—Ç–µ `/achievement-demo.html` –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- –°–∏–º—É–ª—è—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–π –∏ –∑–≤—É–∫–æ–≤
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –î–æ—Å—Ç–∏–∂–µ–Ω–∏–π

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ù–æ–≤–æ–≥–æ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è

```javascript
// –í achievement-system.js -> achievementConfig
new_achievement: {
    id: 'new_achievement',
    name: '–ù–∞–∑–≤–∞–Ω–∏–µ',
    description: '–û–ø–∏—Å–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è',
    category: '–ö–∞—Ç–µ–≥–æ—Ä–∏—è',
    rarity: 'common|rare|epic|legendary',
    icon: this.getAdvancedIcon('icon_type'),
    requirement: { type: 'investigations', value: 10 }
}
```

### –¢–∏–ø—ã –¢—Ä–µ–±–æ–≤–∞–Ω–∏–π
- `investigations` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
- `accuracy` - –ø—Ä–æ—Ü–µ–Ω—Ç —Ç–æ—á–Ω–æ—Å—Ç–∏ (—Å –º–∏–Ω–∏–º—É–º–æ–º –∏–≥—Ä)
- `winStreak` - —Å–µ—Ä–∏—è –ø–æ–±–µ–¥
- `perfectGames` - –∏–≥—Ä—ã —Å 100% —Ç–æ—á–Ω–æ—Å—Ç—å—é
- `fastestGame` - —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –∏–≥—Ä—ã

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–õ–µ–≥–∫–∏–π –≤–µ—Å**: ~20KB —Å–∂–∞—Ç–æ–≥–æ –∫–æ–¥–∞
- **Lazy loading**: –∑–≤—É–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
- **Debounce**: –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **Memory-friendly**: –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ Telegram WebApp API
- ‚úÖ –ú–æ–±–∏–ª—å–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã (iOS/Android)
- ‚úÖ Desktop –±—Ä–∞—É–∑–µ—Ä—ã
- ‚úÖ Graceful fallback –±–µ–∑ WebApp API

## –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏ –≤ –ö–æ–Ω—Å–æ–ª–∏
```javascript
// –í–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏
localStorage.setItem('achievement-debug', 'true');
```

### –°–æ–±—ã—Ç–∏—è
```javascript
// –°–ª—É—à–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
document.addEventListener('achievementUnlocked', (event) => {
    console.log('–ù–æ–≤–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ:', event.detail);
});
```

## –ë—É–¥—É—â–∏–µ –£–ª—É—á—à–µ–Ω–∏—è

1. **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–∑—å—è–º–∏
2. **–°–µ–∑–æ–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è**: –í—Ä–µ–º–µ–Ω–Ω—ã–µ —ç–≤–µ–Ω—Ç—ã  
3. **–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è-—á–µ–ª–ª–µ–Ω–¥–∂–∏**: –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
4. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**: WebSocket –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
5. **–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∫–æ–Ω–∫–∏**: Lottie –∞–Ω–∏–º–∞—Ü–∏–∏

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `achievement-system.js` –ø–æ–¥–∫–ª—é—á–µ–Ω
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ `/achievement-demo.html`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Telegram WebApp API 